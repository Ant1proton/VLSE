import java.math.BigInteger;
import java.security.SecureRandom;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Base64;
import java.util.HashSet;
import java.util.List;
import java.util.Random;
import java.util.Set;

public class util {

	public static String randomID(int num) {
		
		String randomVal = "";
		for(int i = 0; i < num; i++) {
			int rd=Math.random()>0.5?1:0;
			randomVal = randomVal + String.valueOf(rd);
		}
		return randomVal;
	}
	
	public static List<String> randomKeywords(String[] keywords, String searchKeyword, int k) {
		
		Set<String> randomKeywords = new HashSet<String>();
		
		randomKeywords.add(searchKeyword);
		while(randomKeywords.size() < k) {
			randomKeywords.add(keywords[new Random().nextInt(keywords.length)]);
		}
		
		return new ArrayList<String>(randomKeywords);
	}
	
	
	public static byte[] generateRandom() {
				
		
		SecureRandom secureRandom = new SecureRandom();
		
		byte[] byteCipher = new byte[16384];
		
		secureRandom.setSeed("53456489165156486498165213".getBytes());
//		secureRandom.nextBytes(byteCipher);
		
		double t1 = System.currentTimeMillis();
		
		for(int i = 0; i < 1; i++) {
			
			secureRandom.nextBytes(byteCipher);
		}
		
		
		
//		System.out.println(Arrays.toString(byteCipher));
		
		System.out.println(System.currentTimeMillis() - t1);
		
		
		double t2 = System.currentTimeMillis();
		for(int j = 0; j < 1; j++) {
			
			for(int i = 0; i < byteCipher.length; i++) {
				byteCipher[i] = (byte) secureRandom.nextInt(256);
			}				
		}
		
//		System.out.println(Arrays.toString(byteCipher));
		
		System.out.println(System.currentTimeMillis() - t2);
		
		return byteCipher;
		
	}
	
	public static String byteArrToBinStr(byte[] b) {
		
//		String base64 = Base64.getEncoder().encodeToString(b);
//		System.out.println(base64); 
		
		
		String cover = Integer.toBinaryString(1 << 8).substring(1);
	    StringBuffer result = new StringBuffer();
	    for (int i = 0; i < b.length; i++) {

	    	String s = Integer.toBinaryString(b[i] & 0xff);
		    result.append(s.length() < 8 ? cover.substring(s.length()) + s : s);
	    }
	    
	    return result.toString();
	}
	
	public static byte[] binStrToByteArr(String binStr) {
		
		int n = (int) Math.ceil(binStr.length()*1.0/8);
		byte[] b = new byte[n];
		
		int i;
		for(i = 0; i < n - 1; i++) {
			
			b[i] = Long.valueOf(binStr.substring(i*8, (i+1)*8), 2).byteValue();
		}
		
		
		String cover = Integer.toBinaryString(1 << 8).substring(1);
		String s = binStr.substring(i*8, binStr.length());
		s = s + cover.substring(s.length());
		
		b[n - 1] = Long.valueOf(binStr.substring(i*8, binStr.length()), 2).byteValue();
	    
	    return b;
	}	
	
	public static void main(String[] args) {
		
		String s = "00000000000100000";
		
		byte[] b = binStrToByteArr(s);
		
		System.out.println(byteArrToBinStr(b));
	}
	
}
